<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>항공기 정비 기록 블록체인 시뮬레이터</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@4.4.0/dist/web3.min.js"></script>
    
    <script defer src="app.js"></script>
    
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        #chartContainer { width: 90%; max-width: 1000px; margin: 30px auto; }
        h1 { border-bottom: 2px solid #ccc; padding-bottom: 10px; }
        .status-box { padding: 10px; border-radius: 5px; margin-top: 10px; }
        .success { background-color: #e6ffe6; color: green; border: 1px solid green; }
        .error { background-color: #ffe6e6; color: red; border: 1px solid red; }
    </style>
</head>
<body onload="connectWallet()">
    <h1>✈️ 항공기 정비 기록 DApp 시뮬레이터</h1>
    
    <button onclick="connectWallet()">MetaMask 지갑 연결</button>
    <div id="status" class="status-box">연결 대기 중...</div>
    <hr>
    
    <h2>1. CSV 데이터 업로드 및 블록체인 기록</h2>
    <p>Ganache가 실행 중인지, MetaMask가 연결되어 있는지 확인하세요.</p>
    <input type="file" id="csvFileInput" accept=".csv" />
    <button onclick="uploadMaintenanceRecords()">블록체인 기록 및 시뮬레이션 시작</button>
    <div id="simulationStatus" class="status-box" style="margin-top: 15px;"></div>
    
    <hr>
    
    <h2>2. 항공기 잔존 가치 시각화</h2>
    <div id="chartContainer">
        <canvas id="residualValueChart"></canvas>
    </div>
</body>
</html>